package ch.ethz.fgremper.test.combination;

import static org.junit.Assert.*;

import org.junit.Test;

import ch.ethz.fgremper.rtca.DatabaseConnection;
import ch.ethz.fgremper.rtca.test.helper.TestGitHelper;

public class BranchLevelAwarenessTest {

	@Test
	public void test() throws Exception {
		

		DatabaseConnection db = new DatabaseConnection();
		
		db.getConnection();
		
		
		// Setup everything
		TestGitHelper.setupTest();
		TestGitHelper.runPlugins();
		
		// Default state
		System.out.println("DEFAULT");
		System.out.println(db.getBranchLevelAwareness("TestRepository").toString());
		
		TestGitHelper.createOrModifyFile("John", "default.txt");
		TestGitHelper.commit("John");
		TestGitHelper.push("John");
		TestGitHelper.runPlugins();
		
		// John 1 ahead
		System.out.println("JOHN 1 AHEAD");
		System.out.println(db.getBranchLevelAwareness("TestRepository").toString());
		
		TestGitHelper.createOrModifyFile("John", "default.txt");
		TestGitHelper.commit("John");
		TestGitHelper.push("John");
		TestGitHelper.runPlugins();
		
		// John 2 ahead
		System.out.println("JOHN 1 AHEAD");
		System.out.println(db.getBranchLevelAwareness("TestRepository").toString());
		
		
		
		
				
	}

}
