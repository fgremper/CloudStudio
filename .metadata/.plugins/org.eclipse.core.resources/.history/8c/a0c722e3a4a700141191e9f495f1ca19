package ch.ethz.fgremper.test.combination;

import static org.junit.Assert.*;

import org.junit.Test;

import ch.ethz.fgremper.rtca.test.helper.TestDBHelper;
import ch.ethz.fgremper.rtca.test.helper.TestGitHelper;

public class SetupThreeUsersForTesting {

	@Test
	public void test() throws Exception {

		// reset database
		
		TestDBHelper.resetDatabase();
		TestDBHelper.addRepository("testrepo", "http://test/repository.git");
		
		// setup scenario
		
		System.out.println("[Test] Setting up scenario in sandpit");
		
		TestGitHelper.clearSandpit();
		
		TestGitHelper.createOrigin();
		
		TestGitHelper.createUser("john");
		TestGitHelper.cloneOrigin("john");
		TestGitHelper.createUser("david");
		TestGitHelper.cloneOrigin("david");
		
		TestGitHelper.createOrModifyFile("john", "test.txt");
		TestGitHelper.commit("john");
		
		TestGitHelper.createOrModifyFile("david", "test.txt");
		TestGitHelper.commit("david");
		
	}

}
