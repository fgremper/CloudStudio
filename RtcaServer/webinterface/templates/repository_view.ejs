<div id="header">
	<div id="headerText">
		<div id="login">
			Logged in as: <strong><%= login.username %></strong>
			<% if (login.isAdmin) { %>(Administrator) &nbsp;|&nbsp; <span id="manageUsers">Manage users</span><% } %>
		</div>
		<span id="logo">RTCA Web Interface</span>
	</div>
</div>
<div id="title">
    <div id="titleText">
    	<span id="refresh">&#8635;</span>
    	<strong>Repositories</strong>
    </div>
</div>
<div id="view">
	<table id="repositories">
	    <tr class="descriptors"><th>Alias</th><th>URL</th><th>Owner</th><th>Users</th></tr>
	    <tr class="heading"><td colspan="4">Repositories (<%= repositories.length %>)</td></tr>
	<% for (var i = 0; i < repositories.length; i++) { %>
	    <tr class="repository clickable" data-alias="<%= repositories[i]['repositoryAlias'] %>">
	        <td class="blue"><%= repositories[i]['repositoryAlias'] %><% if (login.isAdmin || login.username == repositories[i]['repositoryOwner']) { %> <span class="delete deleteRepository" data-repositoryalias="<%= repositories[i]['repositoryAlias'] %>">(&#8722;)</span><% } %></td>
	        <td><%= repositories[i]['repositoryUrl'] %></td>
	        <td>
	        	<span class="user"><%= repositories[i]['repositoryOwner'] %></span>
	        	<% if (login.isAdmin || login.username == repositories[i]['repositoryOwner']) { %> <span class="modify modifyRepositoryOwner" data-repositoryalias="<%= repositories[i]['repositoryAlias'] %>">(change)</span><% } %>
        	</td>
	        <td>
		        <% for (var j = 0; j < repositories[i]['users'].length; j++) { %>
		        	<span class="user"><%= repositories[i]['users'][j] %><% if (login.isAdmin || login.username == repositories[i]['repositoryOwner']) { %> <span class="delete deleteUserFromRepository" data-repositoryalias="<%= repositories[i]['repositoryAlias'] %>" data-username="<%= repositories[i]['users'][j] %>">(&#8722;)</span><% } %></span>
		        <% } %>
	        	<% if (login.isAdmin || login.username == repositories[i]['repositoryOwner']) { %><span class="add addUserToRepository" data-repositoryalias="<%= repositories[i]['repositoryAlias'] %>">(+)</span><% } %>
	        </td>
	    </tr>
	<% } %>
	</table>
	<% if (login.isAdmin || login.isCreator) %>
	<div id="createRepository">Create repository</div>
</div>
